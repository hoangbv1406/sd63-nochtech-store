<!-- File: home.component.html -->
<app-header></app-header>
<main class="container-fluid">
    <div class="container">

        <div class="section campaign-section">
            <a href="javascript:void(0)">
                <img src="" alt="" class="campaign-img">
            </a>
        </div>

        <div class="section double-banner-section">
            <div class="double-slider-container">
                <button class="nav-btn-round prev" (click)="prevDouble()"><i
                        class="fa-solid fa-chevron-left"></i></button>
                <div class="double-slider-track" [style.transform]="'translateX(-' + (currentDoubleSlide * 100) + '%)'">
                    <div class="double-slide-item">
                        <a href="#" class="banner-half"><img src="" alt="1"></a>
                        <a href="#" class="banner-half"><img src="" alt="2"></a>
                    </div>
                    <div class="double-slide-item">
                        <a href="#" class="banner-half"><img src="" alt="3"></a>
                        <a href="#" class="banner-half"><img src="" alt="4"></a>
                    </div>
                </div>
                <button class="nav-btn-round next" (click)="nextDouble()">
                    <i class="fa-solid fa-chevron-right"></i>
                </button>
            </div>
        </div>

        <div class="section suggestion-wrapper">
            <h2 class="section-title">Gợi ý cho bạn</h2>
            <div class="suggestion-container">
                <button class="nav-btn-round suggestion-prev" (click)="prevSuggestion()"
                    [disabled]="suggestionIndex === 0">
                    <i class="fa-solid fa-chevron-left"></i>
                </button>

                <section class="product-grid">
                    @for(product of visibleSuggestionProducts; track product.id) {
                    <article class="product-card" (click)="onProductClick(product.id)">
                        <figure class="product-img">
                            <div class="img-placeholder">
                                @if (product.thumbnail) {
                                <img [src]="product.url" alt="Product Image" class="product-image">
                                } @else {
                                <svg viewBox="0 0 400 400" class="product-image">
                                    <rect width="100%" height="100%" fill="#9aa0a6" />
                                    <text x="50%" y="50%" text-anchor="middle" fill="#fff">Image cap</text>
                                </svg>
                                }
                            </div>
                        </figure>
                        <h3 class="product-name">{{ product.name }}</h3>
                        <div class="price-box">
                            <span class="current-price">{{ product.price | number:'1.0-0' }}₫</span>
                        </div>
                        <div class="rating-row">
                            <div class="stars"><i class="fa-solid fa-star"></i></div>
                            <span class="rating-num">4.9</span>
                            <span class="separator">•</span>
                            <span class="sold-count">Đã bán 1.2k</span>
                        </div>
                        <div class="promo-gift">Quà 500.000₫</div>
                    </article>
                    }
                </section>

                <button class="nav-btn-round suggestion-next" (click)="nextSuggestion()"
                    [disabled]="suggestionIndex + suggestionLimit >= products.length">
                    <i class="fa-solid fa-chevron-right"></i>
                </button>
            </div>
        </div>

        <div class="section promo-section">
            <div class="section-header-promo">
                <h2 class="section-title">Lễ Hội Trả Chậm</h2>
            </div>
            <div class="promo-container">
                <div class="promo-banner">
                    <img src="" alt="Banner">
                </div>
                <div class="promo-slider">
                    <button class="nav-btn prev" (click)="prevPromo()" [disabled]="promoIndex === 0"><i
                            class="fa-solid fa-chevron-left"></i></button>
                    <div class="promo-grid">
                        @for(product of visiblePromoProducts; track product.id) {
                        <article class="product-card promo-card" (click)="onProductClick(product.id)">
                            <div class="installment-badge">Trả góp 0%</div>
                            <figure class="product-img"><img [src]="product.url" class="product-image"></figure>
                            <h3 class="product-name">{{ product.name }}</h3>
                            <div class="price-box"><span class="current-price">{{ product.price | number:'1.0-0'
                                    }}₫</span></div>
                            <div class="promo-gift">Quà 500.000₫</div>
                        </article>
                        }
                    </div>
                    <button class="nav-btn next" (click)="nextPromo()"
                        [disabled]="promoIndex + itemsPerPage >= promoProducts.length">
                        <i class="fa-solid fa-chevron-right"></i>
                    </button>
                </div>
            </div>
        </div>

        <div class="section deal-section-html">
            <div class="deal-header-red">
                <div class="header-content-flex">
                    <i class="fa-solid fa-holly-berry fest-icon"></i>
                    <h2 class="title-white">Gian Hàng Ưu Đãi</h2>
                </div>
            </div>
            <div class="deal-banners-grid">
                <a href="javascript:void(0)" class="banner-item"><img src=""></a>
                <a href="javascript:void(0)" class="banner-item"><img src=""></a>
                <a href="javascript:void(0)" class="banner-item"><img src=""></a>
                <a href="javascript:void(0)" class="banner-item"><img src=""></a>
            </div>
        </div>

    </div>
</main>
<app-footer></app-footer>